<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/templates/masterLayout.xhtml"
	xmlns:sec="http://www.springframework.org/security/tags">
	<ui:define name="pageTitle">Exam fill</ui:define>
	<ui:define name="content">

		<p:growl id="message" sticky="true" showDetail="true" life="3000" />

		<p:panel id="panelId"
			header="#{examFillBean.questionList.get(examFillBean.counter).text}">

			<!-- 					Single question's form -->
			<h:form
				rendered="#{examFillBean.questionList.get(examFillBean.counter).questionType.id eq 1}">
				<p:dataTable id="optionTable"
					value="#{examFillBean.getOptionList()}" var="option"
					rowKey="#{option.text}" selection="#{examFillBean.selectedOption}">
					<p:column selectionMode="single"
						style="width:10%;text-align:center" />
					<p:column headerText="Options">
						<h:outputText value="#{option.text}" />
					</p:column>
				</p:dataTable>
				<p />
				<p:commandButton update="panelId"
					actionListener="#{examFillBean.toTheNextQuestionSingle()}"
					value="Next"></p:commandButton>

			</h:form>

			<!-- 					Multi question's form -->
			<h:form
				rendered="#{examFillBean.questionList.get(examFillBean.counter).questionType.id eq 2}">

				<p:dataTable id="optionTable"
					value="#{examFillBean.getOptionList()}" var="option"
					selection="#{examFillBean.selectedOptionList}"
					rowKey="#{option.text}">

					<p:column selectionMode="multiple"
						style="width:10%;text-align:center" />
					<p:column headerText="Options">
						<h:outputText value="#{option.text}" />
					</p:column>
				</p:dataTable>
				<p />
				<p:commandButton value="Next" update="panelId"
					actionListener="#{examFillBean.toTheNextQuestionMulti()}">
				</p:commandButton>
			</h:form>

			<!-- 					Textbased question's form -->
			<h:form
				rendered="#{examFillBean.questionList.get(examFillBean.counter).questionType.id eq 3}">
				<p:inputTextarea value="#{examFillBean.textbasedOptionAnswer}"></p:inputTextarea>
				<p />
				<p:commandButton value="Next" update="panelId"
					actionListener="#{examFillBean.toTheNextQuestionText()}">
				</p:commandButton>
			</h:form>
		</p:panel>


	</ui:define>
</ui:composition>