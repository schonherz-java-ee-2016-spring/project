<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/templates/masterLayout.xhtml"
	xmlns:sec="http://www.springframework.org/security/tags">
	<ui:define name="pageTitle">Exam fill</ui:define>
	<ui:define name="content">



		<p:tabView id="tabView" value="#{examFillBean.questionList}"
			var="question" activeIndex="#{examFillBean.counter}">
			<p:tab id="QuestionTabs" title="#{question.id}" disabled="true">
				<p:panel header="#{question.text}">
					<h:form>

					</h:form>
					<h:form rendered="#{question.questionType.getId() eq 1}">
						<!-- 					Single -->
						<p:dataTable id="optionTable"
							value="#{examFillBean.getOptionList()}" var="option"
							rowKey="#{option.optionText}">
							<p:column selectionMode="single"
								style="width:10%;text-align:center" />
							<p:column headerText="Option Text">
								<h:outputText value="#{option.optionText}" />
							</p:column>
						</p:dataTable>
						<p />
						<p:commandButton update="tabView"
							actionListener="#{examFillBean.toTheNextQuestion()}" value="Next"></p:commandButton>

						<p:commandButton value="RESET"
							actionListener="#{examFillBean.resetCounter()}"></p:commandButton>
					</h:form>
					<!-- 					Multi -->
					<h:form rendered="#{question.questionType.getId() eq 2}">

						<p:dataTable id="optionTable"
							value="#{examFillBean.getOptionList()}" var="option"
							selection="#{examFillBean.selectedOptionList}"
							rowKey="#{option.optionText}">

							<p:column selectionMode="multiple"
								style="width:10%;text-align:center" />
							<!-- EZT MEGESZI ÉS MÜKÖDIK	 <p:column selectionMode="single" /> -->
							<p:column headerText="Option Text">
								<h:outputText value="#{option.optionText}" />
							</p:column>
						</p:dataTable>
						<p />
						<p:commandButton value="Next" update="tabView"
							actionListener="#{examFillBean.toTheNextQuestion()}"></p:commandButton>
						<p:commandButton value="RESET"
							actionListener="#{examFillBean.resetCounter()}"></p:commandButton>
					</h:form>

					<!-- 					Textbased -->
					<h:form rendered="#{question.questionType.getId() eq 3}">
						<p:inputTextarea value="#{examFillBean.textbasedOptionAnswer}"></p:inputTextarea>
						<p />
						<p:commandButton value="Next" update="tabView"
							actionListener="#{examFillBean.toTheNextQuestion()}"></p:commandButton>
						<p:commandButton value="RESET"
							actionListener="#{examFillBean.resetCounter()}"></p:commandButton>
					</h:form>


				</p:panel>
			</p:tab>
		</p:tabView>

(RESET) FOR TESTING PURPOSE ONLY

	</ui:define>
</ui:composition>