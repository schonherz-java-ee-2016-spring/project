<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml"
	xmlns:sec="http://www.springframework.org/security/tags">

	<ui:define name="content">
		<h:outputStylesheet library="default" name="css/result-overview.css"
			rel="stylesheet" />

		<body>

			<p:accordionPanel id="userGroupAccordion" var="course"
				value="#{resultsBean.courses}" activeIndex="true">
				<p:tab title="#{course.userGroup.groupName}">

					<p:accordionPanel id="userAccordion" var="userResult"
						value="#{course.userResults}" activeIndex="true">
						<p:tab title="#{userResult.user.fullName}">

							<table id="resultTable" class="table-header-rotated">
								<thead>
									<tr>
										<th></th>
										<ui:repeat var="lesson" value="#{course.lessons}">
											<th class="rotate"><div>
													<span>#{lesson.lessonName}</span>
												</div></th>
										</ui:repeat>
										<th class="rotate">#{out.sum}</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td class="row-header">#{out.exams}</td>
										<ui:repeat var="examResult" value="#{userResult.examResults}">
 											<td>#{examResult.score}</td>
 										</ui:repeat>
 										<td class="row-header">#{userResult.examSum}</td>
									</tr>
									<tr>
										<td class="row-header">#{out.homeworks}</td>
										<ui:repeat var="homeworkResult" value="#{userResult.homeworkResults}">
 											<td>#{homeworkResult.score}</td>
 										</ui:repeat>
 										<td class="row-header">#{userResult.homeworkSum}</td>
									</tr>
								</tbody>
							</table>

						</p:tab>
					</p:accordionPanel>
				</p:tab>
			</p:accordionPanel>

		</body>
	</ui:define>

</ui:composition>