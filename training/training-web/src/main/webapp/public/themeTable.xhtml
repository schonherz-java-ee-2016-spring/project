<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml"
	xmlns:sec="http://www.springframework.org/security/tags">

	<ui:define name="content">
		<h:form id="treeTableForm">
			<p:treeTable value="#{themeServiceBean.root}" var="theme"
				id="treeTable" selectionMode="single"
				selection="#{themeServiceBean.selectedNode}">
				<f:facet name="header">
            Theme viewer
        </f:facet>
				<p:column headerText="Name">
					<h:outputText value="#{theme.name}" />
				</p:column>
				<p:column headerText="Time">
					<h:outputText value="#{theme.hours}" />
				</p:column>
				<p:column headerText="Description">
					<h:outputText value="#{theme.description}" />
				</p:column>
				<p:column headerText="Type">
					<h:outputText value="#{theme.type}" />
				</p:column>
				<p:column headerText="Theme Code">
					<h:outputText value="#{theme.themeCode}" />
				</p:column>
				<f:facet name="footer">
					<p:commandButton type="button" onclick="PF('createDialog').show();"
						value="Create Theme" icon="ui-icon-plusthick"
						update=":treeTableForm:treeTable, treeTableForm"
						oncomplete="PF('createDialog').hide()"></p:commandButton>
					<p:commandButton type="button"
						onclick="PF('createItemDialog').show();" value="Create item Theme"
						icon="ui-icon-plusthick"
						update=":treeTableForm:treeTable, treeTableForm"
						oncomplete="PF('createDialog').hide()"
						disabled="#{themeServiceBean.mainSelected}" id="createItem"></p:commandButton>
					<p:commandButton id="deleteButton" process="treeTable"
						update=":treeTableForm:treeTable, treeTableForm" icon="ui-icon-trash"
						value="#{out.delete}" disabled="#{(themeServiceBean.selectedNode)}"
						action="#{themeServiceBean.deleteTheme}" >
						<p:confirm header="#{out.confirmation}"
							message="#{out.sureDelete}?" icon="ui-icon-alert" />
					</p:commandButton>
					<!-- 					<p:commandButton type="button" onclick="PF('createDialog').show();" -->
					<!-- 						value="delete Theme" icon="ui-icon-plusthick" -->
					<!-- 						update=":treeTableForm:treeTable, treeTableForm" -->
					<!-- 						oncomplete="PF('createDialog').hide()" -->
					<!-- 						disabled="#{themeServiceBean.disabled}" id="deleteButton"></p:commandButton> -->
					<!-- 					<p:commandButton type="button" onclick="PF('createDialog').show();" -->
					<!-- 						value="edit Theme" icon="ui-icon-plusthick" -->
					<!-- 						update=":treeTableForm:treeTable, treeTableForm" -->
					<!-- 						oncomplete="PF('createDialog').hide()" -->
					<!-- 						disabled="#{themeServiceBean.disabled}" id="editButton"></p:commandButton> -->
				</f:facet>
				<p:ajax process="treeTable" event="select" update="growl,createItem"
					listener="#{themeServiceBean.onRowSelect}" />
			</p:treeTable>
		</h:form>

		<h:form styleClass="form-horizontal" id="themeForm">
			<p:dialog header="Create Theme" widgetVar="createDialog"
				dynamic="true" resizable="false" responsive="true">
				<p:panel id="panel2">
					<p:messages id="msgs" showDetail="true" />
					<h:panelGrid columns="2" cellpadding="5">
						<div class="form-group">
							<label for="themename" class="col-sm-4">themename</label>
							<div class="col-sm-8">
								<p:inputText styleClass="form-control" id="themename"
									value="#{themeServiceBean.name}" required="true"
									label="themename">
								</p:inputText>
							</div>
						</div>
						<div class="form-group">
							<label for="description" class="col-sm-4">Description</label>
							<div class="col-sm-8">
								<p:inputText styleClass="form-control" id="description"
									value="#{themeServiceBean.description}" required="true"
									label="description">
								</p:inputText>
							</div>
						</div>
					</h:panelGrid>
					<p:commandButton value="#{out.save}"
						update="growl,:treeTableForm:treeTable,treeTableForm,themeForm"
						action="#{themeServiceBean.createMainTheme}" icon="ui-icon-check"
						oncomplete="PF('createDialog').hide();" />
				</p:panel>
			</p:dialog>
			<p:dialog header="Create Theme" widgetVar="createItemDialog"
				dynamic="true" resizable="false" responsive="true">
				<p:panel id="panel3">
					<p:messages id="msgs2" showDetail="true" />
					<h:panelGrid columns="2" cellpadding="5">
						<div class="form-group">
							<label for="themename" class="col-sm-4">themename</label>
							<div class="col-sm-8">
								<p:inputText styleClass="form-control" id="themename2"
									value="#{themeServiceBean.name}" required="true"
									label="themename">
								</p:inputText>
							</div>
						</div>
						<div class="form-group">
							<label for="description" class="col-sm-4">Description</label>
							<div class="col-sm-8">
								<p:inputText styleClass="form-control" id="description2"
									value="#{themeServiceBean.description}" required="true"
									label="description">
								</p:inputText>
							</div>
						</div>
						<div class="form-group">
							<label for="description" class="col-sm-4">Hours</label>
							<div class="col-sm-8">
								<p:inputText styleClass="form-control" id="hours2"
									value="#{themeServiceBean.hours}" required="true" label="hours">
								</p:inputText>
							</div>
						</div>
					</h:panelGrid>
					<p:commandButton value="#{out.save}"
						update="growl,:treeTableForm:treeTable,treeTableForm,themeForm"
						action="#{themeServiceBean.createMainTheme}" icon="ui-icon-check"
						oncomplete="PF('createItemDialog').hide();" />
				</p:panel>
			</p:dialog>
		</h:form>

	</ui:define>
</ui:composition>